# üê≥ PROXMOX LXC + COMPREFACE

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞ CompreFace –≤ Proxmox LXC –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ**

---

## üìä –†–ï–ö–û–ú–ï–ù–î–£–ï–ú–´–ï –†–ï–°–£–†–°–´ –î–õ–Ø LXC

### **–ú–ò–ù–ò–ú–ê–õ–¨–ù–ê–Ø –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø:**
```
RAM:     6 GB   (—Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –º–æ–∂–µ—Ç —Ç–æ—Ä–º–æ–∑–∏—Ç—å)
CPU:     2 cores
Disk:    20 GB
Network: Bridge
```

### **–†–ï–ö–û–ú–ï–ù–î–£–ï–ú–ê–Ø –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø:** ‚≠ê
```
RAM:     8 GB   (–∫–æ–º—Ñ–æ—Ä—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞)
CPU:     4 cores
Disk:    32 GB
Network: Bridge
```

### **–û–ü–¢–ò–ú–ê–õ–¨–ù–ê–Ø –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø:**
```
RAM:     12 GB  (–±—ã—Å—Ç—Ä–∞—è —Ä–∞–±–æ—Ç–∞)
CPU:     6 cores
Disk:    50 GB
Network: Bridge
```

### **–†–ê–°–ü–†–ï–î–ï–õ–ï–ù–ò–ï –ü–ê–ú–Ø–¢–ò –í LXC:**

```
Ubuntu LXC —Å–∏—Å—Ç–µ–º–∞:        ~300 MB
Docker daemon:             ~200 MB
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
compreface_db:             ~400 MB
compreface_admin:          ~600 MB
compreface_api:            ~1.5 GB
compreface_core (ML):      ~3-4 GB
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
–ò–¢–û–ì–û:                     ~6-7 GB

+ –†–µ–∑–µ—Ä–≤ –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π:     ~1-2 GB
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø:             8 GB
```

---

## üöÄ –®–ê–ì 1: –°–û–ó–î–ê–ù–ò–ï LXC –ö–û–ù–¢–ï–ô–ù–ï–†–ê

### 1.1 –ß–µ—Ä–µ–∑ Proxmox Web UI

–û—Ç–∫—Ä–æ–π Proxmox Web Interface: `https://<proxmox-ip>:8006`

**–®–∞–≥–∏:**

1. **–í –ª–µ–≤–æ–º –º–µ–Ω—é –≤—ã–±–µ—Ä–∏ —Å–≤–æ—é –Ω–æ–¥—É** (–Ω–∞–ø—Ä–∏–º–µ—Ä: pve)

2. **–ù–∞–∂–º–∏ "Create CT"** (Create Container)

3. **General:**
   ```
   CT ID: 100 (–∏–ª–∏ –ª—é–±–æ–π —Å–≤–æ–±–æ–¥–Ω—ã–π)
   Hostname: compreface-lxc
   Password: <—Ç–≤–æ–π_–ø–∞—Ä–æ–ª—å>
   ‚òë Unprivileged container (–≥–∞–ª–æ—á–∫–∞)
   ```

4. **Template:**
   ```
   Storage: local
   Template: ubuntu-22.04-standard_22.04-1_amd64.tar.zst
   ```

   *–ï—Å–ª–∏ –Ω–µ—Ç —à–∞–±–ª–æ–Ω–∞:*
   - –í—ã–±–µ—Ä–∏ Storage ‚Üí CT Templates
   - –ù–∞–∂–º–∏ "Templates"
   - –°–∫–∞—á–∞–π "ubuntu-22.04-standard"

5. **Disks:**
   ```
   Storage: local-lvm (–∏–ª–∏ —Ç–≤–æ–π storage)
   Disk size: 32 GB
   ```

6. **CPU:**
   ```
   Cores: 4
   ‚òê Limit CPU usage (–Ω–µ —Å—Ç–∞–≤–∏—Ç—å –≥–∞–ª–æ—á–∫—É)
   ```

7. **Memory:**
   ```
   Memory (MiB): 8192  (= 8 GB)
   Swap (MiB): 2048    (= 2 GB)
   ```

8. **Network:**
   ```
   Bridge: vmbr0
   IPv4: Static
   IPv4/CIDR: 192.168.1.100/24  (–∑–∞–º–µ–Ω–∏ –Ω–∞ —Å–≤–æ–π IP)
   Gateway: 192.168.1.1         (–∑–∞–º–µ–Ω–∏ –Ω–∞ —Å–≤–æ–π —à–ª—é–∑)
   IPv6: SLAAC (–∏–ª–∏ –æ—Å—Ç–∞–≤—å –ø—É—Å—Ç—ã–º)
   ```

9. **DNS:**
   ```
   DNS domain: (–æ—Å—Ç–∞–≤—å –ø—É—Å—Ç—ã–º –∏–ª–∏ —Ç–≤–æ–π –¥–æ–º–µ–Ω)
   DNS servers: 8.8.8.8 8.8.4.4
   ```

10. **Confirm:**
    ```
    ‚òë Start after created (–≥–∞–ª–æ—á–∫–∞)
    –ù–∞–∂–º–∏ Finish
    ```

**LXC —Å–æ–∑–¥–∞—Å—Ç—Å—è –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è (~30 —Å–µ–∫—É–Ω–¥)** ‚úÖ

---

### 1.2 –ü—Ä–æ–≤–µ—Ä–∫–∞ LXC

**–í Proxmox Web UI:**
- –í—ã–±–µ—Ä–∏ —Å–≤–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (100)
- –î–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å—Ç–∞—Ç—É—Å: **running** (–∑–µ–ª–µ–Ω–∞—è –∏–∫–æ–Ω–∫–∞)

**–ß–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å:**
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ Proxmox
pct list
# –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å —Ç–≤–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º running
```

---

## üîß –®–ê–ì 2: –ù–ê–°–¢–†–û–ô–ö–ê LXC

### 2.1 –í–æ–π—Ç–∏ –≤ LXC

**–ß–µ—Ä–µ–∑ Proxmox Web UI:**
- –í—ã–±–µ—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä ‚Üí **Console** ‚Üí –ø–æ—è–≤–∏—Ç—Å—è —Ç–µ—Ä–º–∏–Ω–∞–ª

**–ò–ª–∏ —á–µ—Ä–µ–∑ SSH —Å Proxmox —Å–µ—Ä–≤–µ—Ä–∞:**
```bash
pct enter 100
```

–¢–µ–ø–µ—Ä—å —Ç—ã –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞! ‚úÖ

---

### 2.2 –û–±–Ω–æ–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É

```bash
# –û–±–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç—ã
apt update && apt upgrade -y

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∞–∑–æ–≤—ã–µ —É—Ç–∏–ª–∏—Ç—ã
apt install -y curl wget nano htop net-tools
```

---

### 2.3 –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç)
curl -fsSL https://get.docker.com -o get-docker.sh
sh get-docker.sh

# –£–¥–∞–ª–∏—Ç—å —Å–∫—Ä–∏–ø—Ç
rm get-docker.sh

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
docker --version
```

**–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:**
```
Docker version 24.0.x, build xxxxx
```

---

### 2.4 –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker Compose

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker Compose
apt install -y docker-compose

# –ò–ª–∏ —á–µ—Ä–µ–∑ pip (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è):
# apt install -y python3-pip
# pip3 install docker-compose

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
docker-compose --version
```

**–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:**
```
docker-compose version 1.29.x
```

---

## üì¶ –®–ê–ì 3: –£–°–¢–ê–ù–û–í–ö–ê COMPREFACE

### 3.1 –°–æ–∑–¥–∞—Ç—å —Ä–∞–±–æ—á—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é

```bash
# –°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É
mkdir -p /opt/compreface
cd /opt/compreface
```

---

### 3.2 –ó–∞–≥—Ä—É–∑–∏—Ç—å docker-compose.yml

**–í–∞—Ä–∏–∞–Ω—Ç 1: –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞**

–ù–∞ Windows Server —Å–∫–∞—á–∞–π —Ñ–∞–π–ª:
```
docker-compose-compreface-only.yml
```

–°–∫–æ–ø–∏—Ä—É–π –Ω–∞ LXC —á–µ—Ä–µ–∑ SCP –∏–ª–∏ —Å–æ–∑–¥–∞–π –≤—Ä—É—á–Ω—É—é (—Å–º. –í–∞—Ä–∏–∞–Ω—Ç 2).

**–í–∞—Ä–∏–∞–Ω—Ç 2: –°–æ–∑–¥–∞—Ç—å –≤—Ä—É—á–Ω—É—é**

```bash
nano docker-compose.yml
```

–í—Å—Ç–∞–≤—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∏–∑ —Ñ–∞–π–ª–∞ `docker-compose-compreface-only.yml` (—è —Å–æ–∑–¥–∞–ª –µ–≥–æ –≤—ã—à–µ).

–°–æ—Ö—Ä–∞–Ω–∏: **Ctrl+O** ‚Üí Enter ‚Üí **Ctrl+X**

---

### 3.3 –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ñ–∞–π–ª –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π
docker-compose config

# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –±–µ–∑ –æ—à–∏–±–æ–∫
```

---

### 3.4 –ó–∞–ø—É—Å—Ç–∏—Ç—å CompreFace

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
docker-compose up -d

# –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç:
# 1. –°–∫–∞—á–∞–µ—Ç –æ–±—Ä–∞–∑—ã (~3-4 GB) - –ø–µ—Ä–≤—ã–π —Ä–∞–∑ –¥–æ–ª–≥–æ!
# 2. –ó–∞–ø—É—Å—Ç–∏—Ç 4 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
# 3. –í–µ—Ä–Ω–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
Creating network "compreface_compreface_network" ... done
Creating volume "compreface_compreface_db_data" ... done
Creating compreface_postgres ... done
Creating compreface_core ... done
Creating compreface_admin ... done
Creating compreface_api ... done
```

---

### 3.5 –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose ps
```

**–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:**
```
NAME                  STATUS
compreface_admin      Up (healthy)
compreface_api        Up (healthy)
compreface_core       Up (healthy)
compreface_postgres   Up (healthy)
```

**–ï—Å–ª–∏ —Å—Ç–∞—Ç—É—Å "starting"** ‚Üí –ø–æ–¥–æ–∂–¥–∏ 2-3 –º–∏–Ω—É—Ç—ã (–ø–µ—Ä–≤—ã–π —Å—Ç–∞—Ä—Ç –¥–æ–ª–≥–∏–π)

---

### 3.6 –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏

```bash
# –í—Å–µ –ª–æ–≥–∏
docker-compose logs -f

# –¢–æ–ª—å–∫–æ API (–æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å)
docker-compose logs -f compreface_api

# –í—ã–π—Ç–∏ –∏–∑ –ª–æ–≥–æ–≤: Ctrl+C
```

**–î–æ–∂–¥–∏—Å—å —Å—Ç—Ä–æ–∫–∏ –≤ compreface_api:**
```
Started EmbeddedRecognitionApplication in X.XXX seconds
```

**–ì–æ—Ç–æ–≤–æ! CompreFace –∑–∞–ø—É—â–µ–Ω!** üéâ

---

## üåê –®–ê–ì 4: –ü–†–û–í–ï–†–ö–ê –†–ê–ë–û–¢–´

### 4.1 –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø–æ—Ä—Ç–æ–≤

**–í–Ω—É—Ç—Ä–∏ LXC:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø–æ—Ä—Ç—ã —Å–ª—É—à–∞—é—Ç
netstat -tlnp | grep -E "8080|3000"
```

**–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:**
```
tcp  0.0.0.0:8001  (compreface_admin)
tcp  0.0.0.0:8002  (compreface_api)
tcp  0.0.0.0:8003  (compreface_core)
```

---

### 4.2 –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å Windows Server

**–ù–∞ Windows Server (PowerShell):**

```powershell
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å CompreFace Admin
Invoke-WebRequest http://192.168.1.100:8001

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å CompreFace API
Invoke-WebRequest http://192.168.1.100:8002/api/actuator/health

# –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å: {"status":"UP"}
```

---

### 4.3 –û—Ç–∫—Ä—ã—Ç—å CompreFace Admin UI

**–í –±—Ä–∞—É–∑–µ—Ä–µ –Ω–∞ –ª—é–±–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –≤ —Å–µ—Ç–∏:**

üëâ **http://192.168.1.100:8001**

–î–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ CompreFace! ‚úÖ

---

## üîë –®–ê–ì 5: –ù–ê–°–¢–†–û–ô–ö–ê COMPREFACE

### 5.1 –°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç

1. –û—Ç–∫—Ä–æ–π: http://192.168.1.100:8001
2. **Sign Up** (–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è)
3. –í–≤–µ–¥–∏ –¥–∞–Ω–Ω—ã–µ:
   ```
   Email: admin@probation.local
   Password: Admin123!
   ```
4. –ù–∞–∂–º–∏ **Sign Up**

---

### 5.2 –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

1. –ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –Ω–∞–∂–º–∏ **"Create"** (—Å–æ–∑–¥–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
2. –í–≤–µ–¥–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ:
   ```
   Application Name: Probation System
   ```
3. –ù–∞–∂–º–∏ **"Create"**

---

### 5.3 –ü–æ–ª—É—á–∏—Ç—å API Key

1. –í —Å–ø–∏—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –Ω–∞–π–¥–∏ **"Probation System"**
2. –ù–∞–∂–º–∏ –Ω–∞ –Ω–µ–≥–æ
3. –í —Ä–∞–∑–¥–µ–ª–µ **"Recognition Service"** —É–≤–∏–¥–∏—à—å:
   ```
   API Key: 00000000-0000-0000-0000-000000000002
   ```
4. **–°–ö–û–ü–ò–†–£–ô** —ç—Ç–æ—Ç –∫–ª—é—á (–ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –¥–ª—è Windows Server)

---

## üîó –®–ê–ì 6: –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–ï –ö WINDOWS SERVER

### 6.1 –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Backend –Ω–∞ Windows

–ù–∞ Windows Server –æ—Ç–∫—Ä–æ–π —Ñ–∞–π–ª **backend/.env** –∏ –¥–æ–±–∞–≤—å:

```bash
# CompreFace –≤ Proxmox LXC
COMPREFACE_ENABLED=true
COMPREFACE_API_URL=http://192.168.1.100:8002
COMPREFACE_API_KEY=00000000-0000-0000-0000-000000000002  # –¢–≤–æ–π –∫–ª—é—á!
COMPREFACE_FACE_COLLECTION=probation_clients

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Face ID
FACE_SIMILARITY_THRESHOLD=0.85
FACE_MAX_ATTEMPTS=10
FACE_LOCKOUT_DURATION_MINUTES=30
```

**–ó–∞–º–µ–Ω–∏:**
- `192.168.1.100` ‚Üí IP —Ç–≤–æ–µ–≥–æ LXC
- API Key ‚Üí —Ç–≤–æ–π —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–ª—é—á

---

### 6.2 –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Backend

**–ï—Å–ª–∏ Backend –∑–∞–ø—É—â–µ–Ω –∫–∞–∫ —Å–ª—É–∂–±–∞:**
```powershell
Restart-Service NodeBackend
```

**–ï—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω –≤—Ä—É—á–Ω—É—é:**
```powershell
# Ctrl+C —á—Ç–æ–±—ã –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
# –ü–æ—Ç–æ–º —Å–Ω–æ–≤–∞:
cd C:\probation\backend
npm start
```

---

### 6.3 –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

**–í –ª–æ–≥–∞—Ö Backend –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:**
```
‚úÖ CompreFace connected: http://192.168.1.100:8002
‚úÖ Face ID enabled
```

**–ì–û–¢–û–í–û!** Backend –Ω–∞ Windows –∏—Å–ø–æ–ª—å–∑—É–µ—Ç CompreFace –Ω–∞ Proxmox! üéâ

---

## üìä –ú–û–ù–ò–¢–û–†–ò–ù–ì –†–ï–°–£–†–°–û–í

### –í Proxmox Web UI:

1. –í—ã–±–µ—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (100)
2. –í–∫–ª–∞–¥–∫–∞ **"Summary"** ‚Üí —É–≤–∏–¥–∏—à—å:
   ```
   Memory usage: 6.2 GB / 8 GB
   CPU usage: 15%
   ```

### –í–Ω—É—Ç—Ä–∏ LXC:

```bash
# –ü–∞–º—è—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker stats --no-stream

# –ü–∞–º—è—Ç—å —Å–∏—Å—Ç–µ–º—ã
free -h

# –ü—Ä–æ—Ü–µ—Å—Å—ã
htop
```

---

## üîß –£–ü–†–ê–í–õ–ï–ù–ò–ï COMPREFACE

### –ö–æ–º–∞–Ω–¥—ã Docker Compose:

```bash
cd /opt/compreface

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç—É—Å
docker-compose ps

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
docker-compose logs -f

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
docker-compose restart

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
docker-compose stop

# –ó–∞–ø—É—Å—Ç–∏—Ç—å
docker-compose start

# –£–¥–∞–ª–∏—Ç—å –≤—Å—ë (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ! —É–¥–∞–ª–∏—Ç –¥–∞–Ω–Ω—ã–µ)
docker-compose down -v

# –û–±–Ω–æ–≤–∏—Ç—å –æ–±—Ä–∞–∑—ã
docker-compose pull
docker-compose up -d
```

---

## üì∏ –°–ù–ê–ü–®–û–¢–´ (BACKUP)

### –°–æ–∑–¥–∞—Ç—å —Å–Ω–∞–ø—à–æ—Ç LXC:

**–í Proxmox Web UI:**
1. –í—ã–±–µ—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
2. –í–∫–ª–∞–¥–∫–∞ **"Snapshots"**
3. –ù–∞–∂–º–∏ **"Take Snapshot"**
4. –í–≤–µ–¥–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ: `compreface-working`
5. –ù–∞–∂–º–∏ **"Take Snapshot"**

**–°–Ω–∞–ø—à–æ—Ç —Å–æ–∑–¥–∞—Å—Ç—Å—è –∑–∞ 5-10 —Å–µ–∫—É–Ω–¥!** ‚ö°

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ —Å–Ω–∞–ø—à–æ—Ç–∞:

1. –í–∫–ª–∞–¥–∫–∞ **"Snapshots"**
2. –í—ã–±–µ—Ä–∏ —Å–Ω–∞–ø—à–æ—Ç
3. –ù–∞–∂–º–∏ **"Rollback"**

---

## üö® –†–ï–®–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú

### CompreFace –Ω–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker-compose logs compreface_api

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
docker-compose restart

# –ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker-compose down
docker-compose up -d
```

---

### –ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –ø–∞–º—è—Ç–∏:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
docker stats

# –£–≤–µ–ª–∏—á–∏—Ç—å RAM –≤ Proxmox:
# 1. –í—ã–∫–ª—é—á–∏—Ç—å LXC: pct stop 100
# 2. –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞–º—è—Ç—å: pct set 100 -memory 12288
# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å: pct start 100
```

---

### Backend –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ç—å
ping 192.168.1.100

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å firewall –≤ LXC (–æ–±—ã—á–Ω–æ –≤—ã–∫–ª—é—á–µ–Ω)
ufw status

# –ï—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω - –æ—Ç–∫—Ä—ã—Ç—å –ø–æ—Ä—Ç—ã:
ufw allow 8002/tcp
```

---

## ‚úÖ –ß–ï–ö–õ–ò–°–¢ –ì–û–¢–û–í–ù–û–°–¢–ò

- [ ] LXC —Å–æ–∑–¥–∞–Ω (8GB RAM, 4 CPU, 32GB Disk)
- [ ] Docker —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] Docker Compose —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] docker-compose.yml –∑–∞–≥—Ä—É–∂–µ–Ω
- [ ] CompreFace –∑–∞–ø—É—â–µ–Ω (docker-compose ps –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "Up")
- [ ] –ü–æ—Ä—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã (8001, 8002)
- [ ] Admin UI –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è (http://IP:8001)
- [ ] –°–æ–∑–¥–∞–Ω –∞–∫–∫–∞—É–Ω—Ç
- [ ] –°–æ–∑–¥–∞–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- [ ] API Key —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω
- [ ] Backend –Ω–∞ Windows –Ω–∞—Å—Ç—Ä–æ–µ–Ω (.env)
- [ ] Backend –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω
- [ ] –õ–æ–≥–∏ Backend –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç "CompreFace connected"

**–í—Å—ë –≥–æ—Ç–æ–≤–æ?** ‚Üí Face ID —Ä–∞–±–æ—Ç–∞–µ—Ç! üöÄ

---

## üéØ –ò–¢–û–ì–û–í–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ     WINDOWS SERVER             ‚îÇ
‚îÇ  IP: 192.168.1.50              ‚îÇ
‚îÇ                                ‚îÇ
‚îÇ  ‚úÖ PostgreSQL (5432)          ‚îÇ
‚îÇ  ‚úÖ Node.js Backend (5000)     ‚îÇ
‚îÇ  ‚úÖ React Frontend (80/443)    ‚îÇ
‚îÇ                                ‚îÇ
‚îÇ  Backend .env:                 ‚îÇ
‚îÇ  COMPREFACE_API_URL=           ‚îÇ
‚îÇ    http://192.168.1.100:8002   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚ïë
     –õ–æ–∫–∞–ª—å–Ω–∞—è —Å–µ—Ç—å
            ‚ïë
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  PROXMOX LXC CONTAINER         ‚îÇ
‚îÇ  IP: 192.168.1.100             ‚îÇ
‚îÇ  RAM: 8GB, CPU: 4 cores        ‚îÇ
‚îÇ                                ‚îÇ
‚îÇ  üê≥ Docker + Docker Compose    ‚îÇ
‚îÇ     ‚îú‚îÄ compreface_db           ‚îÇ
‚îÇ     ‚îú‚îÄ compreface_admin (8001) ‚îÇ
‚îÇ     ‚îú‚îÄ compreface_api (8002) ‚Üê‚îÄ‚îê
‚îÇ     ‚îî‚îÄ compreface_core (8003)  ‚îÇ
‚îÇ                                ‚îÇ
‚îÇ  Face Recognition ML Service   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –û—Ç–ª–∏—á–Ω–∞—è
**–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:** –í—ã—Å–æ–∫–∞—è
**–£–ø—Ä–∞–≤–ª—è–µ–º–æ—Å—Ç—å:** –ü—Ä–æ—Å—Ç–∞—è

---

**–ì–æ—Ç–æ–≤–æ –∫ production!** üéâ
