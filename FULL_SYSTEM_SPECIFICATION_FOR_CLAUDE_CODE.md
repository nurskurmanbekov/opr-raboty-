# üèõÔ∏è –ü–û–õ–ù–ê–Ø –°–ü–ï–¶–ò–§–ò–ö–ê–¶–ò–Ø –°–ò–°–¢–ï–ú–´ –ú–û–ù–ò–¢–û–†–ò–ù–ì–ê
## –î–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç –ø—Ä–æ–±–∞—Ü–∏–∏ –ö–† - v2.0

**–î–∞—Ç–∞:** 15 —è–Ω–≤–∞—Ä—è 2025  
**–î–ª—è:** Claude Code  
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤–∞ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

---

## üìë –ö–†–ê–¢–ö–û–ï –°–û–î–ï–†–ñ–ê–ù–ò–ï

–≠—Ç–∞ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–æ–¥–µ—Ä–∂–∏—Ç –ü–û–õ–ù–£–Æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã:

### –ß–¢–û –ù–£–ñ–ù–û –î–û–ë–ê–í–ò–¢–¨/–ò–ó–ú–ï–ù–ò–¢–¨:

**1. –†–û–õ–ò (–æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞):**
- superadmin - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø
- district_head - –∑–∞–≤–µ–¥—É—é—â–∏–π —Ä–∞–π–æ–Ω–∞ (–º–æ–∂–µ—Ç –ø–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–æ–≤)
- district_officer - —Ä–∞–π–æ–Ω–Ω—ã–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ (—Å–æ–∑–¥–∞–µ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤ —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ–±—è)
- client - –∫–ª–∏–µ–Ω—Ç—ã

**2. –ú–¢–£ (–ú–µ—Å—Ç–∞ –†–∞–±–æ—Ç—ã) - –ù–û–í–´–ô –§–£–ù–ö–¶–ò–û–ù–ê–õ:**
- –°–æ–∑–¥–∞–Ω–∏–µ –ú–¢–£ —Å –ö–í–ê–î–†–ê–¢–ù–û–ô –≥–µ–æ–∑–æ–Ω–æ–π (50–º - 1–∫–º)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è QR –∫–æ–¥–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ú–¢–£
- PDF –¥–ª—è –ø–µ—á–∞—Ç–∏ —Å QR –∫–æ–¥–æ–º –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π
- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤ –Ω–∞ –ú–¢–£

**3. FACE ID —Å CompreFace - –ù–û–í–´–ô –§–£–ù–ö–¶–ò–û–ù–ê–õ:**
- –ó–∞–≥—Ä—É–∑–∫–∞ 3-5 —Ñ–æ—Ç–æ –ª–∏—Ü–∞ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞
- Liveness Detection (3 —Ñ–æ—Ç–æ: –≤–ª–µ–≤–æ, –≤–ø—Ä–∞–≤–æ, –∞–Ω—Ñ–∞—Å)
- –î–æ 10 –ø–æ–ø—ã—Ç–æ–∫ Face ID
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–∞ 30 –º–∏–Ω—É—Ç –ø–æ—Å–ª–µ 10 –Ω–µ—É–¥–∞—á

**4. –û–ü–ò–°–ê–ù–ò–ï –†–ê–ë–û–¢–´ - –ù–û–í–û–ï –ü–û–õ–ï:**
- –ö–ª–∏–µ–Ω—Ç –ø–∏—à–µ—Ç –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Ä–∞–±–æ—Ç—ã
- –ú–∏–Ω–∏–º—É–º 20 —Å–∏–º–≤–æ–ª–æ–≤ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
- –û—Ñ–∏—Ü–µ—Ä –≤–∏–¥–∏—Ç –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ

---

## 1. –ò–ó–ú–ï–ù–ï–ù–ò–Ø –í –†–û–õ–Ø–•

### –ù–æ–≤–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è:

```
SUPERADMIN
    ‚îú‚îÄ DISTRICT_HEAD (–ó–∞–≤–µ–¥—É—é—â–∏–π)
    ‚îÇ    ‚îî‚îÄ DISTRICT_OFFICER (–°–æ—Ç—Ä—É–¥–Ω–∏–∫) √ó 5-6
    ‚îÇ         ‚îî‚îÄ CLIENT (–ö–ª–∏–µ–Ω—Ç—ã) √ó N
    ‚îî‚îÄ ANALYST (—Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä)
```

### –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ - —Ç–∞–±–ª–∏—Ü–∞:

| –î–µ–π—Å—Ç–≤–∏–µ | super | head | officer | client |
|----------|-------|------|---------|--------|
| –°–æ–∑–¥–∞—Ç—å –ú–¢–£ | ‚úÖ | ‚ùå | ‚ùå | ‚ùå |
| –°–æ–∑–¥–∞—Ç—å officer | ‚úÖ | ‚úÖ | ‚ùå | ‚ùå |
| –°–æ–∑–¥–∞—Ç—å client | ‚ùå | ‚ùå | ‚úÖ | ‚ùå |
| –£–¥–∞–ª–∏—Ç—å client | ‚úÖ | ‚ùå | ‚ùå | ‚ùå |
| –ü–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–∏—Ç—å client | ‚ùå | ‚úÖ | ‚ùå | ‚ùå |
| –í–∏–¥–µ—Ç—å –≤—Å–µ—Ö | ‚úÖ | —Ä–∞–π–æ–Ω | —Å–≤–æ–∏—Ö | —Å–µ–±—è |

---

## 2. –ë–ê–ó–ê –î–ê–ù–ù–´–• - –ù–û–í–´–ï –¢–ê–ë–õ–ò–¶–´

### –¢–∞–±–ª–∏—Ü–∞: mtu_locations
```sql
CREATE TABLE mtu_locations (
  id SERIAL PRIMARY KEY,
  mtu_code VARCHAR(50) UNIQUE NOT NULL,
  name VARCHAR(255) NOT NULL,
  district VARCHAR(100) NOT NULL,
  address TEXT,
  
  -- –ö–≤–∞–¥—Ä–∞—Ç–Ω–∞—è –≥–µ–æ–∑–æ–Ω–∞:
  geofence_type VARCHAR(20) DEFAULT 'square',
  geofence_center_lat DECIMAL(10, 8),
  geofence_center_lon DECIMAL(11, 8),
  geofence_size INTEGER,  -- –º–µ—Ç—Ä–æ–≤ (50-1000)
  geofence_north DECIMAL(10, 8),
  geofence_south DECIMAL(10, 8),
  geofence_east DECIMAL(11, 8),
  geofence_west DECIMAL(11, 8),
  
  -- QR –∫–æ–¥:
  qr_code_data TEXT,
  qr_code_image_url TEXT,
  qr_pdf_url TEXT,
  
  status VARCHAR(20) DEFAULT 'active',
  created_at TIMESTAMP DEFAULT NOW()
);
```

### –¢–∞–±–ª–∏—Ü–∞: client_mtu_assignments
```sql
CREATE TABLE client_mtu_assignments (
  id SERIAL PRIMARY KEY,
  client_id INTEGER REFERENCES users(id),
  mtu_id INTEGER REFERENCES mtu_locations(id),
  assigned_by INTEGER REFERENCES users(id),
  assigned_at TIMESTAMP DEFAULT NOW(),
  UNIQUE(client_id, mtu_id)
);
```

### –¢–∞–±–ª–∏—Ü–∞: client_faces
```sql
CREATE TABLE client_faces (
  id SERIAL PRIMARY KEY,
  user_id INTEGER REFERENCES users(id),
  photo_path VARCHAR(500),
  photo_type VARCHAR(50),  -- 'frontal', 'left', 'right'
  compreFace_image_id VARCHAR(255),
  is_primary BOOLEAN DEFAULT false,
  uploaded_at TIMESTAMP DEFAULT NOW()
);
```

### –¢–∞–±–ª–∏—Ü–∞: face_verification_attempts
```sql
CREATE TABLE face_verification_attempts (
  id SERIAL PRIMARY KEY,
  user_id INTEGER REFERENCES users(id),
  work_session_id INTEGER,
  attempt_number INTEGER,  -- 1-10
  similarity_score DECIMAL(5,4),
  liveness_check BOOLEAN,
  success BOOLEAN,
  photo_path VARCHAR(500),
  created_at TIMESTAMP DEFAULT NOW()
);
```

### –û–±–Ω–æ–≤–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É users:
```sql
ALTER TABLE users 
ADD COLUMN compreFace_subject_id VARCHAR(255),
ADD COLUMN face_registered BOOLEAN DEFAULT false,
ADD COLUMN face_registered_at TIMESTAMP;
```

### –û–±–Ω–æ–≤–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É work_sessions:
```sql
ALTER TABLE work_sessions
ADD COLUMN work_description TEXT;  -- –æ–ø–∏—Å–∞–Ω–∏–µ –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞
```

---

## 3. COMPREFACE - –£–°–¢–ê–ù–û–í–ö–ê

### Docker Compose (–¥–æ–±–∞–≤–∏—Ç—å):
```yaml
compreface_db:
  image: postgres:15
  environment:
    POSTGRES_DB: compreface
    POSTGRES_USER: compreface
    POSTGRES_PASSWORD: compreface_pwd
  volumes:
    - compreface_db:/var/lib/postgresql/data

compreface_admin:
  image: exadel/compreface-admin:latest
  environment:
    POSTGRES_URL: jdbc:postgresql://compreface_db:5432/compreface
  ports:
    - "8001:8080"

compreface_api:
  image: exadel/compreface-api:latest
  environment:
    POSTGRES_URL: jdbc:postgresql://compreface_db:5432/compreface
  ports:
    - "8002:8080"

compreface_core:
  image: exadel/compreface-core:latest
  ports:
    - "8003:3000"
```

### .env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
```
COMPREFACE_API_URL=http://compreface_api:8080
COMPREFACE_API_KEY=<–ø–æ–ª—É—á–∏—Ç—å_–∏–∑_admin>
FACE_SIMILARITY_THRESHOLD=0.85
FACE_MAX_ATTEMPTS=10
```

---

## 4. BACKEND API - –ù–û–í–´–ï ENDPOINTS

### POST /api/mtu/create (—Ç–æ–ª—å–∫–æ superadmin)
```javascript
Request:
{
  name: "–ü–∞—Ä–∫ –ê—Ç–∞-–¢—é—Ä–∫",
  district: "Bishkek",
  address: "—É–ª. –ö–∏–µ–≤—Å–∫–∞—è, 1",
  geofence_center_lat: 42.8746,
  geofence_center_lon: 74.5698,
  geofence_size: 500  // –º–µ—Ç—Ä–æ–≤
}

Response:
{
  success: true,
  mtu_code: "MTU_BISHKEK_001",
  qr_code_url: "/qr-codes/MTU_BISHKEK_001.png",
  qr_pdf_url: "/pdf/MTU_BISHKEK_001.pdf"
}
```

### POST /api/face-verification/verify
```javascript
Request:
{
  user_id: 123,
  mtu_id: 1,
  photos: [base64_left, base64_right, base64_frontal],
  gps_location: {lat: 42.8746, lon: 74.5698}
}

Response (Success):
{
  success: true,
  similarity: 0.9786,
  liveness: true,
  message: "–õ–∏—á–Ω–æ—Å—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞"
}

Response (Failure):
{
  success: false,
  attempts_left: 7,
  message: "–õ–∏—Ü–æ –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–æ"
}
```

### POST /api/users/create (–æ–±–Ω–æ–≤–∏—Ç—å)
```javascript
Request:
{
  full_name: "...",
  // ... –¥—Ä—É–≥–∏–µ –ø–æ–ª—è
  assigned_mtu: [1, 3, 5],  // ID –ú–¢–£ (NEW!)
  face_photos: [            // NEW!
    {data: base64, type: "frontal"},
    {data: base64, type: "left"},
    {data: base64, type: "right"}
  ]
}
```

### POST /api/work-sessions/complete (–æ–±–Ω–æ–≤–∏—Ç—å)
```javascript
Request:
{
  work_session_id: 789,
  photos: [...],  // –º–∏–Ω–∏–º—É–º 3
  work_description: "..."  // NEW! –º–∏–Ω–∏–º—É–º 20 —Å–∏–º–≤–æ–ª–æ–≤
}
```

---

## 5. FRONTEND - –ù–û–í–´–ï –ö–û–ú–ü–û–ù–ï–ù–¢–´

### –°–æ–∑–¥–∞—Ç—å: components/FacePhotosUpload.jsx
```jsx
// –ó–∞–≥—Ä—É–∑–∫–∞ 3-5 —Ñ–æ—Ç–æ –ª–∏—Ü–∞ –∫–ª–∏–µ–Ω—Ç–∞
// Drag & drop –∏–ª–∏ –≤—ã–±–æ—Ä —Ñ–∞–π–ª–∞
// –ü—Ä–µ–≤—å—é + –≤–∞–ª–∏–¥–∞—Ü–∏—è
// –ú–∏–Ω–∏–º—É–º 3 —Ñ–æ—Ç–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
```

### –°–æ–∑–¥–∞—Ç—å: components/MTUMapPicker.jsx
```jsx
// –ö–∞—Ä—Ç–∞ Leaflet —Å –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–π –≥–µ–æ–∑–æ–Ω–æ–π
// –ö–ª–∏–∫ –ø–æ –∫–∞—Ä—Ç–µ ‚Üí —Ü–µ–Ω—Ç—Ä
// –ü–æ–ª–∑—É–Ω–æ–∫: 50-1000 –º–µ—Ç—Ä–æ–≤
// Rectangle –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–≤–∞–¥—Ä–∞—Ç–∞
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –≥—Ä–∞–Ω–∏—Ü
```

### –°–æ–∑–¥–∞—Ç—å: pages/CreateMTUPage.jsx
```jsx
// –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ú–¢–£
// –ò—Å–ø–æ–ª—å–∑—É–µ—Ç MTUMapPicker
// –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç QR –∏ PDF
```

### –û–±–Ω–æ–≤–∏—Ç—å: pages/CreateClientPage.jsx
```jsx
// –î–æ–±–∞–≤–∏—Ç—å:
// 1. <FacePhotosUpload /> (3-5 —Ñ–æ—Ç–æ)
// 2. Checkbox —Å–ø–∏—Å–æ–∫ –ú–¢–£
// 3. –í–∞–ª–∏–¥–∞—Ü–∏—è
```

### –û–±–Ω–æ–≤–∏—Ç—å: pages/SessionDetailsPage.jsx
```jsx
// –î–æ–±–∞–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:
// - work_description –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞
// - –ö–≤–∞–¥—Ä–∞—Ç–Ω–∞—è –≥–µ–æ–∑–æ–Ω–∞ –Ω–∞ –∫–∞—Ä—Ç–µ
```

---

## 6. MOBILE APP - –ù–û–í–´–ï –≠–ö–†–ê–ù–´

### –°–æ–∑–¥–∞—Ç—å: QRScannerScreen.js
```javascript
// –°–∫–∞–Ω–µ—Ä QR –∫–æ–¥–∞
// expo-barcode-scanner
// –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ backend –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
```

### –°–æ–∑–¥–∞—Ç—å: FaceVerificationScreen.js
```javascript
// Face ID —Å Liveness Detection
// 3 —ç—Ç–∞–ø–∞:
// 1. "–ü–æ–≤–µ—Ä–Ω–∏—Ç–µ –≥–æ–ª–æ–≤—É –≤–ª–µ–≤–æ" ‚Üí —Ñ–æ—Ç–æ
// 2. "–ü–æ–≤–µ—Ä–Ω–∏—Ç–µ –≥–æ–ª–æ–≤—É –≤–ø—Ä–∞–≤–æ" ‚Üí —Ñ–æ—Ç–æ
// 3. "–°–º–æ—Ç—Ä–∏—Ç–µ –ø—Ä—è–º–æ" ‚Üí —Ñ–æ—Ç–æ
// –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ backend
// 10 –ø–æ–ø—ã—Ç–æ–∫ —Å –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏
```

### –°–æ–∑–¥–∞—Ç—å: CompleteSessionScreen.js
```javascript
// –§–æ—Ä–º–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã
// - –ó–∞–≥—Ä—É–∑–∫–∞ 3+ —Ñ–æ—Ç–æ
// - –¢–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ –æ–ø–∏—Å–∞–Ω–∏—è (–º–∏–Ω–∏–º—É–º 20 —Å–∏–º–≤–æ–ª–æ–≤)
// - –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
```

### –û–±–Ω–æ–≤–∏—Ç—å: WorkSessionScreen.js
```javascript
// –î–æ–±–∞–≤–∏—Ç—å:
// - –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä Face ID –ø—Ä–æ—à–µ–ª
// - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–π –≥–µ–æ–∑–æ–Ω—ã
```

---

## 7. –ü–†–û–¶–ï–°–° –†–ê–ë–û–¢–´ –ö–õ–ò–ï–ù–¢–ê (–ü–û–õ–ù–´–ô)

```
1. –ö–ª–∏–µ–Ω—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç –Ω–∞ –ú–¢–£
2. –°–∫–∞–Ω–∏—Ä—É–µ—Ç QR –∫–æ–¥
3. Backend –ø—Ä–æ–≤–µ—Ä—è–µ—Ç: –ú–¢–£, –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ, –≥–µ–æ–∑–æ–Ω–∞
4. Face ID: 3 —Ñ–æ—Ç–æ (–≤–ª–µ–≤–æ, –≤–ø—Ä–∞–≤–æ, –∞–Ω—Ñ–∞—Å)
5. CompreFace –ø—Ä–æ–≤–µ—Ä—è–µ—Ç (similarity > 0.85)
6. –ï—Å–ª–∏ –û–ö ‚Üí –Ω–∞—á–∞—Ç—å —Å–µ—Å—Å–∏—é + GPS –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫
7. –†–∞–±–æ—Ç–∞ 4-8 —á–∞—Å–æ–≤
8. –ó–∞–≤–µ—Ä—à–∏—Ç—å ‚Üí –∑–∞–≥—Ä—É–∑–∏—Ç—å 3+ —Ñ–æ—Ç–æ + –æ–ø–∏—Å–∞–Ω–∏–µ
9. –û—Ñ–∏—Ü–µ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç ‚Üí –æ–¥–æ–±—Ä–∏—Ç—å/–æ—Ç–∫–ª–æ–Ω–∏—Ç—å
10. –ï—Å–ª–∏ –æ–¥–æ–±—Ä–µ–Ω–æ ‚Üí —á–∞—Å—ã –∑–∞—Å—á–∏—Ç–∞–Ω—ã
```

---

## 8. –ö–í–ê–î–†–ê–¢–ù–ê–Ø –ì–ï–û–ó–û–ù–ê - –ö–ê–ö –†–ê–ë–û–¢–ê–ï–¢

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ø–∞–¥–∞–Ω–∏—è –≤ –∫–≤–∞–¥—Ä–∞—Ç:
```javascript
function isInSquare(lat, lon, bounds) {
  return (
    lat >= bounds.south &&
    lat <= bounds.north &&
    lon >= bounds.west &&
    lon <= bounds.east
  );
}
```

### –†–∞—Å—á–µ—Ç –≥—Ä–∞–Ω–∏—Ü –∏–∑ —Ü–µ–Ω—Ç—Ä–∞ + —Ä–∞–∑–º–µ—Ä–∞:
```javascript
function calculateSquareBounds(centerLat, centerLon, sizeMeters) {
  const latDelta = (sizeMeters / 2) / 111000;
  const lonDelta = (sizeMeters / 2) / (111000 * Math.cos(centerLat * Math.PI / 180));
  
  return {
    north: centerLat + latDelta,
    south: centerLat - latDelta,
    east: centerLon + lonDelta,
    west: centerLon - lonDelta
  };
}
```

---

## 9. –ì–ï–ù–ï–†–ê–¶–ò–Ø QR –ö–û–î–ê –ò PDF

### Backend - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è QR:
```javascript
const QRCode = require('qrcode');

// –î–∞–Ω–Ω—ã–µ –¥–ª—è QR:
const qrData = {
  type: "mtu_checkin",
  mtu_id: 1,
  mtu_code: "MTU_BISHKEK_001",
  name: "–ü–∞—Ä–∫ –ê—Ç–∞-–¢—é—Ä–∫"
};

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è PNG:
await QRCode.toFile(
  '/public/qr-codes/MTU_BISHKEK_001.png',
  JSON.stringify(qrData),
  { width: 500 }
);
```

### Backend - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è PDF:
```javascript
const PDFDocument = require('pdfkit');

const doc = new PDFDocument();
doc.fontSize(24).text('–ú–ï–°–¢–û –û–ë–©–ï–°–¢–í–ï–ù–ù–´–• –†–ê–ë–û–¢');
doc.fontSize(16).text(`–ù–∞–∑–≤–∞–Ω–∏–µ: ${mtu.name}`);
doc.image(qrCodePath, { fit: [300, 300] });
doc.text('–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: ...');
doc.end();
```

---

## 10. –ü–†–ò–û–†–ò–¢–ï–¢–´ –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### –ü–µ—Ä–≤–∞—è –æ—á–µ—Ä–µ–¥—å:
1. –ë–î —Ç–∞–±–ª–∏—Ü—ã (mtu_locations, client_faces, –∏ —Ç.–¥.)
2. CompreFace Docker
3. Backend API –¥–ª—è –ú–¢–£ –∏ Face ID
4. Frontend: FacePhotosUpload
5. Frontend: MTUMapPicker
6. Mobile: QRScanner
7. Mobile: FaceVerification

### –í—Ç–æ—Ä–∞—è –æ—á–µ—Ä–µ–¥—å:
- –û–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã
- PDF –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
- –û—Ñ—Ñ–ª–∞–π–Ω —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è Face ID
- –£–ª—É—á—à–µ–Ω–Ω—ã–π UI

---

## 11. –ß–ï–ö–õ–ò–°–¢ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

**Backend:**
- [ ] –°–æ–∑–¥–∞—Ç—å –ú–¢–£ —Å QR –∫–æ–¥–æ–º
- [ ] –°–æ–∑–¥–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–∞ —Å 3 —Ñ–æ—Ç–æ
- [ ] Face ID –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] QR –∫–æ–¥ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è
- [ ] –ö–≤–∞–¥—Ä–∞—Ç–Ω–∞—è –≥–µ–æ–∑–æ–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –û–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

**Frontend:**
- [ ] –°–æ–∑–¥–∞—Ç—å –ú–¢–£ –Ω–∞ –∫–∞—Ä—Ç–µ
- [ ] –ó–∞–≥—Ä—É–∑–∏—Ç—å 3-5 —Ñ–æ—Ç–æ –ª–∏—Ü–∞
- [ ] –°–∫–∞—á–∞—Ç—å QR –∏ PDF
- [ ] –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–µ—Å—Å–∏–∏ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º

**Mobile:**
- [ ] QR —Å–∫–∞–Ω–µ—Ä
- [ ] Face ID (3 —Ñ–æ—Ç–æ)
- [ ] 10 –ø–æ–ø—ã—Ç–æ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –û–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã
- [ ] –û—Ñ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º

---

## 12. –ö–û–ù–¢–ê–ö–¢–´ –ò –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø

**CompreFace:**
- Docs: https://github.com/exadel-inc/CompreFace
- API: http://localhost:8002 –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞

**React Leaflet:**
- Docs: https://react-leaflet.js.org/

**Expo:**
- Docs: https://docs.expo.dev/

---

**–ö–û–ù–ï–¶ –°–ü–ï–¶–ò–§–ò–ö–ê–¶–ò–ò**

–í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è Claude Code —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã! üöÄ
