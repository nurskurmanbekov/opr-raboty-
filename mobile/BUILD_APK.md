# üì± –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Å–±–æ—Ä–∫–µ APK

## ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ —Å–±–æ—Ä–∫–µ!

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å **–ø—É–±–ª–∏—á–Ω—ã–º API**:
```
http://85.113.27.42:8090/api
```

APK –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å **–≤–µ–∑–¥–µ –≤ –ö—ã—Ä–≥—ã–∑—Å—Ç–∞–Ω–µ** –≥–¥–µ –µ—Å—Ç—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç! üá∞üá¨

---

## üöÄ –í–∞—Ä–∏–∞–Ω—Ç 1: EAS Build (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å EAS CLI –≥–ª–æ–±–∞–ª—å–Ω–æ
npm install -g eas-cli

# –í–æ–π—Ç–∏ –≤ –∞–∫–∫–∞—É–Ω—Ç Expo (–∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π)
eas login
```

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ–µ–∫—Ç

```bash
cd mobile

# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å EAS –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)
eas build:configure
```

### –®–∞–≥ 3: –°–æ–±—Ä–∞—Ç—å APK

**–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (APK):**
```bash
eas build --profile preview --platform android
```

**–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ (AAB –¥–ª—è Google Play):**
```bash
eas build --profile production --platform android
```

### –®–∞–≥ 4: –°–∫–∞—á–∞—Ç—å APK

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–±–æ—Ä–∫–∏ (10-15 –º–∏–Ω—É—Ç):
- EAS –ø–æ–∫–∞–∂–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ
- –ò–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ: https://expo.dev/accounts/YOUR_ACCOUNT/projects/mobile/builds
- –°–∫–∞—á–∞–π—Ç–µ APK –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω

---

## üîß –í–∞—Ä–∏–∞–Ω—Ç 2: Expo Prebuild (–õ–æ–∫–∞–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞)

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- Android Studio
- Android SDK
- Java JDK 17+

### –ö–æ–º–∞–Ω–¥—ã:

```bash
cd mobile

# –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—Ç–∏–≤–Ω—ã–µ –ø–∞–ø–∫–∏
npx expo prebuild

# –°–æ–±—Ä–∞—Ç—å APK –ª–æ–∫–∞–ª—å–Ω–æ
npx expo run:android --variant release

# APK –±—É–¥–µ—Ç –≤:
# android/app/build/outputs/apk/release/app-release.apk
```

---

## üìã –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ —Å–±–æ—Ä–∫–æ–π

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª:
```bash
cat .env
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: EXPO_PUBLIC_API_URL=http://85.113.27.42:8090/api
```

### 2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω:
```bash
# –° –ª—é–±–æ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ –≤ –ö–† –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
curl http://85.113.27.42:8090/api/health
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å JSON —Å –¥–∞–Ω–Ω—ã–º–∏ –æ —Å–µ—Ä–≤–µ—Ä–µ
```

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall –Ω–∞ MikroTik:
- ‚úÖ –ü–æ—Ä—Ç 8090 –æ—Ç–∫—Ä—ã—Ç –¥–ª—è KG IP
- ‚úÖ NAT –ø—Ä–∞–≤–∏–ª–æ: 8090 ‚Üí 10.99.7.91:5000
- ‚úÖ Backend —Å–ª—É—à–∞–µ—Ç –Ω–∞ 0.0.0.0:5000

---

## üéØ –¢–µ—Å—Ç–æ–≤—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ APK –≤–æ–π–¥–∏—Ç–µ —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏:

**–ö–ª–∏–µ–Ω—Ç 1:**
- Email: `client1@probation.kg`
- –ü–∞—Ä–æ–ª—å: `123456`

**–ö–ª–∏–µ–Ω—Ç 2:**
- Email: `client2@probation.kg`
- –ü–∞—Ä–æ–ª—å: `123456`

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

### APK —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ:
- ‚úÖ –í –ö—ã—Ä–≥—ã–∑—Å—Ç–∞–Ω–µ (IP –∏–∑ KG)
- ‚úÖ –ü—Ä–∏ –∑–∞–ø—É—â–µ–Ω–Ω–æ–º backend —Å–µ—Ä–≤–µ—Ä–µ
- ‚úÖ –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–æ–º –ø–æ—Ä—Ç–µ 8090 –Ω–∞ MikroTik

### –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω: `http://85.113.27.42:8090/api`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ MikroTik firewall –ª–æ–≥–∏
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Ç–µ–ª–µ—Ñ–æ–Ω –∏–º–µ–µ—Ç KG IP –∞–¥—Ä–µ—Å
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–º–µ–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ GPS –∏ –∫–∞–º–µ—Ä—É

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

**–¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- Backend –¥–æ—Å—Ç—É–ø–µ–Ω **—Ç–æ–ª—å–∫–æ –∏–∑ –ö—ã—Ä–≥—ã–∑—Å—Ç–∞–Ω–∞**
- Firewall –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤—Å–µ –Ω–µ-KG IP
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è HTTP (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –Ω—É–∂–µ–Ω HTTPS!)

**–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:**
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (Let's Encrypt)
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Nginx/Apache —Å HTTPS
3. –ò–∑–º–µ–Ω–∏—Ç—å URL –Ω–∞ `https://yourdomain.kg/api`
4. –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å APK —Å –Ω–æ–≤—ã–º URL

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ backend: `cd backend && npm run dev`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ MikroTik –ª–æ–≥–∏: `/log print where topics~"firewall"`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ: `curl -v http://85.113.27.42:8090/api`

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ —Å–±–æ—Ä–∫–µ –∏ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –Ω–∞ –ª—é–±–æ–º —Ç–µ–ª–µ—Ñ–æ–Ω–µ –≤ –ö—ã—Ä–≥—ã–∑—Å—Ç–∞–Ω–µ!
